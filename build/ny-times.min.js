"use strict";!function(a){var b=function a(b){var c,d=a.angular,e={getNYTimesApiKey:function(){return b.NYTimesAPIKey},getDefaultNYTimesQuery:function(){return b.NYTimesDefaultQuery},getMainElementSelector:function(){return b.target},getOnErrorCallback:function(){return b.onError||null},setOnError:function(a){d.isFunction(a)&&(b.onError=a)},getOnSetUpError:function(){return b.onSetUpError||null},setOnSetUpError:function(a){d.isFunction(a)&&(b.onSetUpError=a)},setMainContainer:function(a){c=c},getMainContainer:function(){return c},toString:function(){return"[object Options]"}};return e};define("ny_times/options",["angular"],function(a){return b.angular=a,b})}(window),function(){var a=function(a){var b="<div class='ny-times-template' ng-controller='MainLibraryCtrl'><ny-times-feed></ny-times-feed></div>";return b};define("ny_times/src/template_renderer/main-template",[],function(){return a})}(),function(a){function b(a){var b=h.DESKTOP_TEMPLATE(a);return b}var c,d,e,f,g,h=function a(b){function h(a,b){if(!e.isFunction(d))throw new Error(b);d(a,b)}if(e=a.angular,c=a.device,d=b.getOnSetUpError(),f=b.getMainElementSelector(),g=a.document.querySelector(f)){b.setMainContainer(g);var i=a.getMainTemplateMarkup(b);e.element(g).html(i)}else h(!1,"No target found. Please set the target property to a valid DOM element selector.")};define("ny_times/src/template-renderer",["angular","./template_renderer/main-template"],function(c,d){return h.DESKTOP_TEMPLATE=d,h.angular=c,h.document=a.document,h.getMainTemplateMarkup=b,h})}(window),function(){var a={};define("ny_times/src/constants/filter-constants",[],function(){return a.NAME="FILTER_CONSTANTS",a.VALUES={TURN_FILTER_ON:"ON",TURN_FILTER_OFF:"OFF",STORY_TEXT_EMPTY_FILTER_NAME:"applyEmptyStoryTextFilter",STORY_TEXT_CONTAINS_QUERY_NAME:"applyStoryTextContainsQueryFilter",STORY_BYLINE_CONTAINS_QUERY_NAME:"applyByLineContainsQueryFilter"},a})}(),function(){var a={};define("ny_times/src/constants/story-constants",[],function(){return a.NAME="STORY_CONSTANTS",a.VALUES={UNKOWN_STORY_CONTENT_VALUE:"Unknown"},a})}(),function(a){var b=function b(c){a.angular.forEach(b.list,function(a){c.constant(a.NAME,a.VALUES),c.run(["$rootScope",function(b,c){b[a.NAME]=a.VALUES}])})};define("ny_times/src/constants",["./constants/filter-constants","./constants/story-constants"],function(a,c){return b.list=arguments,b})}(window),function(){var a=function a(b,c){var d=(a.angular,c.getMainContainer());b.options=c,b.mainContainer=d;var e={onError:function(a){c.setOnError(a)}};return e};define("ny_times/src/controllers/main-ctrl",["angular"],function(b){return a.angular=b,a.NAME="MainLibraryCtrl",a.$inject=["$scope","$mainOptions"],a})}(),function(){var a=function a(b){a.angular.forEach([a.MainCTRL],function(a){b.controller(a.NAME,a)})};define("ny_times/src/controllers",["angular","./controllers/main-ctrl"],function(b,c){return a.MainCTRL=c,a.angular=b,a})}(),function(){var a=function a(b,c,d){var e,f,g,h,i=a.angular,j=i.element(c).injector(),k=j.get("$window"),l=j.get("$rootScope");j.get("$timeout");k=i.element(k),g=0,null!=d.infiniteScrollDistance&&b.$watch(d.infiniteScrollDistance,function(a){return g=parseInt(a,10)}),h=!0,e=!1,null!=d.infiniteScrollDisabled&&b.$watch(d.infiniteScrollDisabled,function(a){if(h=!a,h&&e)return e=!1,f()}),f=function(){if(!i.element(c).is(":visible"))return!1;var a,f,j,m;return m=k.height()+k.scrollTop(),a=c.offset().top+c.height(),f=a-m,j=f<=k.height()*g,j&&h?l.$$phase?b.$eval(d.infiniteScroll):b.$apply(d.infiniteScroll):j?e=!0:void 0},k.off("scroll",f),k.on("scroll",f),b.$on("$destroy",function(){return k.off("scroll",f)})};define("ny_times/src/directives/infinite_scroller/link",["angular"],function(b){return a.angular=b,a})}(),function(){var a=function a(){return{restrict:"A",replace:!1,link:a.Link}};define("ny_times/src/directives/infinite-scroller",["./infinite_scroller/link"],function(b){return a.Link=b,a.NAME="infiniteScroll",a})}(),function(){var a=function(a,b,c,d){function e(a,b){a.forEach(function(a){var c=Object.keys(a)[0];b.indexOf(c)!==-1&&(a[c]=!0)})}function f(a){return a&&a[0].toUpperCase()+a.slice(1)}function g(a){if(!a)return!1;for(var b=!1,c=a.split("."),d=0;d<c.length;d++){var e=f(c[d].substring(0,4).toLowerCase());e.indexOf(f(E))!==-1&&(b=!0)}return b}function h(a){return!!a&&a.indexOf(E.toLowerCase())!==-1}function i(a){return!!(a&&a.byline&&a.byline.original)&&a.byline.original.toLowerCase().indexOf(E)!==-1}function j(a){var b=h(a.lead_paragraph),c=h(a.lead_paragraph),d=h(a.lead_paragraph);return!i(a)||b||c||d}function k(a){var b=g(a.lead_paragraph)||h(a.lead_paragraph),c=g(a.lead_paragraph)||h(a.lead_paragraph),d=g(a.lead_paragraph)||h(a.lead_paragraph);return b||c||d}function l(a,b){var c=!1;return a.forEach(function(a){var d=Object.keys(a)[0];a[d]&&b===d&&(c=!0)}),c}function m(b){return l(a.typeOfMaterialFilters,b.type_of_material)}function n(b){return l(a.newsDeskFilters,b.news_desk)}function o(a){return!!a&&""!==a}function p(a){return o(a.lead_paragraph)||o(a.snippit)||o(a.headline.main)}function q(a){a.typeOfMaterialFilter=!1,m(a)&&(a.typeOfMaterialFilter=!0)}function r(a){a.newsDeskFilter=!1,n(a)&&(a.newsDeskFilter=!0)}function s(b){b.emptyStoryTextFilter=!1,a.applyEmptyStoryTextFilter&&!p(b)&&(b.emptyStoryTextFilter=!0)}function t(b){b.storyTextContainsQueryFilter=!1,a.applyStoryTextContainsQueryFilter&&!k(b)&&(b.storyTextContainsQueryFilter=!0)}function u(b){b.storyBylineContainsQueryFilter=!1,a.applyByLineContainsQueryFilter&&!j(b)&&(b.storyBylineContainsQueryFilter=!0)}function v(a,b){q(a),r(a),s(a),t(a),u(a)}function w(a){return a.forEach(v),a}function x(a,b){return!(!b||""===b)&&(a.forEach(function(a){if(Object.keys(a)[0]===b)return!0}),!1)}function y(b){b.forEach(function(b){if(x(a.typeOfMaterialFilters,b.type_of_material)){var c={};c[b.type_of_material]=!1,a.typeOfMaterialFilters.push(c)}if(x(a.newsDeskFilters,b.news_desk)){var d={};d[b.news_desk]=!1,a.newsDeskFilters.push(d)}})}function z(b){var c=0;return b.forEach(function(b){a.storyHasActiveFilter(b)&&c++}),c}function A(b){var c=z(b);return a.totalFilteredCount+=c,c}function B(b){var c=void 0,d=void 0;return c=b.length,d=A(b),a.totalStoryCount+=c,a.totalUnfilteredStoryCount+=c-d,d}function C(b){var c=z(b);return a.totalFilteredCount+=c,c}function D(b){var c=void 0,d=void 0;return c=b.length,d=C(b),a.totalFilteredCount=d,a.totalStoryCount=c,a.totalUnfilteredStoryCount=c-d,d}var E=c.getDefaultNYTimesQuery().toLowerCase();a.currentTotalUnfilterCount=0,a.totalFilteredCount=0,a.totalStoryCount=0,a.totalUnfilteredStoryCount=0,a.showNYTimesStoryFeedContainer=!0,a.showNYTimesFilterContainer=!1,a.nyTimesStoryFeedNavClass={"active-nav":!0},a.nyTimesStoryFilterNavClass={},a.applyTypeOfMaterialFilter=!0,a.typeOfMaterialFilterName="Type Of Materials",a.typeOfMaterialFilterDefaults=["timestopic","Paid Death Notice","Obituary"],a.typeOfMaterialFilters=[{Addendum:!1},{"An Analysis":!1},{"An Appraisal":!1},{Article:!1},{Banner:!1},{Biography:!1},{"Birth Notice":!1},{Blog:!1},{Brief:!1},{Caption:!1},{Chronology:!1},{Column:!1},{Correction:!1},{"Economic Analysis":!1},{Editorial:!1},{"Editorial Cartoon":!1},{"Editors' Note":!1},{"First Chapter":!1},{"Front Page":!1},{Glossary:!1},{"Interactive Feature":!1},{"Interactive Graphic":!1},{Interview:!1},{Letter:!1},{List:!1},{"Marriage Announcement":!1},{"Military Analysis":!1},{News:!1},{"News Analysis":!1},{Newsletter:!1},{Obituary:!1},{"Obituary (Obit)":!1},{"Op-Ed":!1},{"Paid Death Notice":!1},{Postscript:!1},{Premium:!1},{Question:!1},{Quote:!1},{Recipe:!1},{Review:!1},{Schedule:!1},{SectionFront:!1},{Series:!1},{Slideshow:!1},{"Special Report":!1},{Statistics:!1},{Summary:!1},{Text:!1},{timestopic:!1},{Video:!1},{"Web Log":!1}],a.applyNewsDeskFilter=!0,a.newsDeskFilterName="News Desk",a.newsDeskFilterDefaults=["Games"],a.newsDeskFilters=[{"Adventure Sports":!1},{"Arts & Leisure":!1},{Arts:!1},{Automobiles:!1},{Blogs:!1},{Books:!1},{Booming:!1},{"Business Day":!1},{Business:!1},{Cars:!1},{Circuits:!1},{Classifieds:!1},{Connecticut:!1},{"Crosswords & Games":!1},{Culture:!1},{DealBook:!1},{Dining:!1},{Editorial:!1},{Education:!1},{Energy:!1},{Entrepreneurs:!1},{Environment:!1},{Escapes:!1},{"Fashion & Style":!1},{Fashion:!1},{Favorites:!1},{Financial:!1},{Flight:!1},{Food:!1},{Foreign:!1},{Generations:!1},{Games:!1},{Giving:!1},{"Global Home":!1},{"Health & Fitness":!1},{Health:!1},{"Home & Garden":!1},{Home:!1},{Jobs:!1},{Key:!1},{Letters:!1},{"Long Island":!1},{Magazine:!1},{"Market Place":!1},{Media:!1},{"Men's Health":!1},{Metro:!1},{Metropolitan:!1},{Movies:!1},{Museums:!1},{National:!1},{Nesting:!1},{Obits:!1},{Obituaries:!1},{Obituary:!1},{OpEd:!1},{Opinion:!1},{Outlook:!1},{"Personal Investing":!1},{"Personal Tech":!1},{Play:!1},{Politics:!1},{Regionals:!1},{Retail:!1},{Retirement:!1},{Science:!1},{"Small Business":!1},{Society:!1},{Sports:!1},{Style:!1},{"Sunday Business":!1},{"Sunday Review":!1},{"Sunday Styles":!1},{"T Magazine":!1},{"T Style":!1},{Technology:!1},{Teens:!1},{Television:!1},{"The Arts":!1},{"The Business of Green":!1},{"The City Desk":!1},{"The City":!1},{"The Marathon":!1},{"The Millennium":!1},{"The Natural World":!1},{"The Upshot":!1},{"The Weekend":!1},{"The Year in Pictures":!1},{Theater:!1},{"Then & Now":!1},{"Thursday Styles":!1},{"Times Topics":!1},{Travel:!1},{"U.S.":!1},{Universal:!1},{Upshot:!1},{UrbanEye:!1},{Vacation:!1},{Washington:!1},{Wealth:!1},{Weather:!1},{"Week in Review":!1},{Week:!1},{Weekend:!1},{Westchester:!1},{"Wireless Living":!1},{"Women's Health":!1},{Working:!1},{Workplace:!1},{World:!1},{"Your Money":!1}],a.applyEmptyStoryTextFilter=!0,a.applyStoryTextContainsQueryFilter=!0,a.applyByLineContainsQueryFilter=!0,a.newsFeed=[],a.pagesLoaded=0,a.throttleScroller=!1,a.currentPage=0,e(a.typeOfMaterialFilters,a.typeOfMaterialFilterDefaults),e(a.newsDeskFilters,a.newsDeskFilterDefaults),a.$on("filterChange",function(){a.newsFeed=w(a.newsFeed),D(a.newsFeed),a.currentTotalUnfilterCount=0}),a.storyHasActiveFilter=function(b){var c=b.typeOfMaterialFilter&&a.applyTypeOfMaterialFilter,d=b.newsDeskFilter&&a.applyNewsDeskFilter,e=b.emptyStoryTextFilter&&a.applyEmptyStoryTextFilter,f=b.storyTextContainsQueryFilter&&a.applyStoryTextContainsQueryFilter,g=b.storyBylineContainsQueryFilter&&a.applyByLineContainsQueryFilter;return c||d||e||f||g},a.getNYTimesFeed=function(e){b({method:"GET",url:"https://api.nytimes.com/svc/search/v2/articlesearch.json",withCredentials:!1,headers:{"Content-Type":"application/json; charset=utf-8"},params:{"api-key":c.getNYTimesApiKey(),q:E,page:e}}).then(function(b){var c=void 0,e=void 0,f=void 0;a.pagesLoaded++,y(b.data.response.docs),c=w(b.data.response.docs),e=c.length,f=B(c),a.currentTotalUnfilterCount+=e-f,a.newsFeed=a.newsFeed.concat(c),a.currentTotalUnfilterCount<10?d(a.getNYTimesFeed,1500,!0,a.pagesLoaded):(a.currentTotalUnfilterCount=0,a.throttleScroller=!1)},function(b){a.throttleScroller=!1})},a.doSomething=function(){a.getNYTimesFeed()},a.scrollingFunction=function(){return!!a.throttleScroller||(a.throttleScroller=!0,void a.getNYTimesFeed(a.pagesLoaded))},a.showNYTimesContainerClick=function(b){var c=void 0;c={"active-nav":!0},a.showNYTimesFilterContainer=!1,a.showNYTimesStoryFeedContainer=!1,a.nyTimesStoryFeedNavClass={},a.nyTimesStoryFilterNavClass={},"nyTimesStoryFeed"===b?(a.showNYTimesStoryFeedContainer=!0,a.nyTimesStoryFeedNavClass=c):"nyTimesFilterContainer"===b&&(a.showNYTimesFilterContainer=!0,a.nyTimesStoryFilterNavClass=c)},a.getNYTimesFeed(0)};define("ny_times/src/directives/ny_times_feed/controller",[],function(){return a.$inject=["$scope","$http","$mainOptions","$timeout"],a})}(),function(){var a=function(a,b){b.on("$destroy",function(){})};define("ny_times/src/directives/ny_times_feed/link",[],function(){return a})}(),function(){define("ny_times/src/directives/ny_times_feed/template",[],function(){return"<div><div class='row'><ny-times-sidebar></ny-times-sidebar><div class='hidden-sm hidden-md hidden-lg ny-times-side-control-xs'><div ng-click='showNYTimesContainerClick(\"nyTimesStoryFeed\")' ng-class='nyTimesStoryFeedNavClass' class='col-xs-6 sidebar-nav-option'><h3>Story Feed</h3></div><div ng-class='nyTimesStoryFilterNavClass' class='col-xs-6 sidebar-nav-option' ng-click='showNYTimesContainerClick(\"nyTimesFilterContainer\")'><h3>Filter</h3></div></div><div class='col-xs-12 col-sm-offset-2 col-sm-10 ny-times-filter-container main' ng-show='showNYTimesFilterContainer'><ny-times-filter typeOfMaterialOptions='typeOfMaterials' apply-empty-story-text-filter='applyEmptyStoryTextFilter' apply-story-text-contains-query-filter='applyStoryTextContainsQueryFilter' apply-by-line-contains-query-filter='applyByLineContainsQueryFilter'></ny-times-filter></div><div infinite-scroll='scrollingFunction()' infinite-scroll-distance='1' infinite-scroll-disabled=''class='col-xs-12 col-sm-offset-2 col-sm-10 ny-times-story-container main' ng-show='showNYTimesStoryFeedContainer'><div class='ny-times-news-feed-repeater' ng-repeat='story in newsFeed'><ny-times-story index='{{$index}}' page='{{pagesLoaded}}' story='story' apply-type-of-material-filter='applyTypeOfMaterialFilter' apply-news-desk-filter='applyNewsDeskFilter' apply-empty-story-text-filter='applyEmptyStoryTextFilter' apply-story-text-contains-query-filter = 'applyStoryTextContainsQueryFilter' apply-by-line-contains-query-filter='applyByLineContainsQueryFilter' story-has-active-filter='storyHasActiveFilter'></ny-times-story></div></div><div class='col-xs-12 col-sm-offset-2 col-sm-10 ny-times-story-count-summary-container'><div class='ny-times-story-count-summary'><div class='ny-times-story-header'><h2 ng-show='showNYTimesStoryFeedContainer'>Please Wait For More Stories To Load</h2><h2 ng-show='showNYTimesFilterContainer'>New York Times Stories Filter Summary</h2></div><div class='ny-times-story-filter-counts'><div class='ny-times-story-count-total'>Stories: {{totalStoryCount}}</div><div class='ny-times-story-count-filtered'>Filtered: {{totalFilteredCount}}</div><div class='ny-times-story-count-unfiltered'>Unfiltered: {{totalUnfilteredStoryCount}}</div></div></div></div></div></div>"})}(),function(){var a=function a(){return{restrict:"E",replace:!0,controller:a.Controller,link:a.Link,template:a.Template}};define("ny_times/src/directives/ny-times-feed",["./ny_times_feed/controller","./ny_times_feed/link","./ny_times_feed/template"],function(b,c,d){return a.Controller=b,a.Link=c,a.Template=d,a.NAME="nyTimesFeed",a})}(),function(){var a=function(a){a.filterOptionName=Object.keys(a.filterOption)[0],a.filterOn=a.filterOption[a.filterOptionName],a.clickFilterOptionCheckbox=function(){a.filterOption[a.filterOptionName]=!a.filterOption[a.filterOptionName],a.filterOn=a.filterOption[a.filterOptionName],a.$emit("filterChange")}};define("ny_times/src/directives/ny_times_filter_type_option/controller",[],function(){return a.$inject=["$scope"],a})}(),function(){define("ny_times/src/directives/ny_times_filter_type_option/template",[],function(){return"<div class='ny-time-filter-type-option' ng-show='showAllOptions || filterOn'><input type='checkbox' ng-click='clickFilterOptionCheckbox()' ng-model='filterOn'>{{filterOptionName}}</div>"})}(),function(){var a=function a(){return{restrict:"E",replace:!0,scope:{showAllOptions:"=",filterOption:"="},controller:a.Controller,template:a.Template}};define("ny_times/src/directives/ny-times-filter-type-option.js",["./ny_times_filter_type_option/controller","./ny_times_filter_type_option/template"],function(b,c){return a.Controller=b,a.Template=c,a.NAME="nyTimesFilterTypeOption",a})}(),function(){var a=function(a){a.showAllOptions=!1,a.showDefaultOptions=!0,a.showAllFilterOptions=function(){a.showAllOptions=!0,a.showDefaultOptions=!1},a.showLessFilterOptions=function(){a.showAllOptions=!1}};define("ny_times/src/directives/ny_times_filter_type/controller",[],function(){return a.$inject=["$scope"],a})}(),function(){define("ny_times/src/directives/ny_times_filter_type/template",[],function(){return"<div class='ny-times-filter-type'><h3>{{filterType}}:</h3><div class='row ny-times-filter-options'><div class='ny-time-filter-type-option-repeater col-xs-3' ng-show='showAllOptions || filterOptionValue' ng-repeat='(filterOption, filterOptionValue) in filterOptions' class='ny-times-filter-option'><ny-times-filter-type-option show-all-options='showAllOptions' filter-option='filterOptionValue'></ny-times-filter-type-option></div></div><div><a class='ny-times-filter-options-show-all' ng-hide='showAllOptions' ng-click='showAllFilterOptions()'>show all</a><a class='ny-times-filter-options-show-all' ng-show='showAllOptions' ng-click='showLessFilterOptions()'>show less</a></div></div>"})}(),function(){var a=function a(){return{restrict:"E",replace:!0,scope:{filterOptions:"=",filterType:"@"},controller:a.Controller,template:a.Template}};define("ny_times/src/directives/ny-times-filter-type",["./ny_times_filter_type/controller","./ny_times_filter_type/template"],function(b,c){return a.Controller=b,a.Template=c,a.NAME="nyTimesFilterType",a})}(),function(){var a=function(a,b){a.applyEmptyStoryTextFilterClass={"active-option-on":!0,"active-option-off":!1},a.applyStoryTextContainsQueryFilterClass={"active-option-on":!0,"active-option-off":!1},a.applyByLineContainsQueryFilterClass={"active-option-on":!0,"active-option-off":!1},a.clickFilterOptionClick=function(c,d){var e=b[d]+"Class",f=b[d];b[c]===b.TURN_FILTER_ON?(a[e]={"active-option-on":!0,"active-option-off":!1},a[f]=!0):(a[e]={"active-option-on":!1,"active-option-off":!0},a[f]=!1),a.$emit("filterChange")}};define("ny_times/src/directives/ny_times_filter/controller",[],function(){return a.$inject=["$scope","FILTER_CONSTANTS"],a})}(),function(){define("ny_times/src/directives/ny_times_filter/template",[],function(){return"<div class='ny-times-filter'><div class='ny-times-filter-types' ><div class='ny-times-filter-type'> <h3>Empty Story:</h3><div class='ny-times-filter-on-off-container'><span class='ny-times-filter-on active-option-on' ng-class='applyEmptyStoryTextFilterClass' ng-click=\"clickFilterOptionClick('TURN_FILTER_ON', 'STORY_TEXT_EMPTY_FILTER_NAME')\">on</span><span class='ny-times-filter-off active-option-on' ng-class='applyEmptyStoryTextFilterClass' ng-click=\"clickFilterOptionClick('TURN_FILTER_OFF', 'STORY_TEXT_EMPTY_FILTER_NAME')\">off</span></div></div><div class='ny-times-filter-type'> <h3>Story Contains Query:</h3><div class='ny-times-filter-on-off-container'><span class='ny-times-filter-on active-option-on' ng-class='applyStoryTextContainsQueryFilterClass' ng-click=\"clickFilterOptionClick('TURN_FILTER_ON', 'STORY_TEXT_CONTAINS_QUERY_NAME')\">on</span><span class='ny-times-filter-off active-option-on' ng-class='applyStoryTextContainsQueryFilterClass' ng-click=\"clickFilterOptionClick('TURN_FILTER_OFF', 'STORY_TEXT_CONTAINS_QUERY_NAME')\">off</span></div></div><div class='ny-times-filter-type'> <h3>Byline Contains Query:</h3><div class='ny-times-filter-on-off-container'><span class='ny-times-filter-on active-option-on' ng-class='applyByLineContainsQueryFilterClass' ng-click=\"clickFilterOptionClick('TURN_FILTER_ON', 'STORY_BYLINE_CONTAINS_QUERY_NAME')\">on</span><span class='ny-times-filter-off active-option-on' ng-class='applyByLineContainsQueryFilterClass' ng-click=\"clickFilterOptionClick('TURN_FILTER_OFF', 'STORY_BYLINE_CONTAINS_QUERY_NAME')\">off</span></div></div><div><ny-times-filter-type filter-options='newsDeskFilters' filter-type='{{newsDeskFilterName}}'></ny-times-filter-type></div><div><ny-times-filter-type filter-options='typeOfMaterialFilters' filter-type='{{typeOfMaterialFilterName}}'></ny-times-filter-type></div></div></div>"})}(),function(){var a=function a(){return{restrict:"E",replace:!0,controller:a.Controller,template:a.Template}};define("ny_times/src/directives/ny-times-filter",["./ny_times_filter/controller","./ny_times_filter/template"],function(b,c){return a.Controller=b,a.Template=c,a.NAME="nyTimesFilter",a})}(),function(){define("ny_times/src/directives/ny_times_sidebar/template",[],function(){return"<div class='hidden-xs col-sm-2 ny-times-side-control sidebar'><ul class='sidebar-navs'><li ng-class='nyTimesStoryFeedNavClass' class='sidebar-nav-option' ng-click='showNYTimesContainerClick(\"nyTimesStoryFeed\")'><h3 class='hidden-sm'>Story Feed</h3><span class='visible-sm'>Story Feed</span></li><li ng-class='nyTimesStoryFilterNavClass' class='sidebar-nav-option' ng-click='showNYTimesContainerClick(\"nyTimesFilterContainer\")'><h3 class='hidden-sm'>Filter</h3><div class='visible-sm'>Filter</div></li></ul></div>"})}(),function(){var a=function a(){return{restrict:"E",replace:!0,template:a.Template}};define("ny_times/src/directives/ny-times-sidebar",["./ny_times_sidebar/template"],function(b){return a.Template=b,a.NAME="nyTimesSidebar",a})}(),function(){var a=function(a,b,c){function d(a){return""===a}function e(e){return d(a.story.pub_date)?c.UNKOWN_STORY_CONTENT_VALUE:e=b("date")(e,"MM-dd-yyyy")}function f(){a.showStorySnippit=!(!a.story.snippit||a.story.snippit===a.story.lead_paragraph),a.source=a.story.source&&""!==a.story.source?a.story.source:c.UNKOWN_STORY_CONTENT_VALUE,a.pub_date=e(a.story.pub_date),a.byline=a.story.byline&&""!==a.story.byline.original?a.story.byline.original:c.UNKOWN_STORY_CONTENT_VALUE,a.type_of_material=a.story.type_of_material&&""!==a.story.type_of_material?a.story.type_of_material:c.UNKOWN_STORY_CONTENT_VALUE,a.news_desk=a.story.news_desk&&""!==a.story.news_desk?a.story.news_desk:c.UNKOWN_STORY_CONTENT_VALUE}a.subTitle=a.story.headline.main,a.nyTimesLeadParagraphClass={"ny-times-story-lead-paragraph":!0,"clip-paragraph":!0},a.hideNYTimesStory=!1,a.showMoreNYTimesStory=!1,a.source="",a.pub_date="",a.byline="",a.type_of_material="",a.news_desk="",a.showMoreNYTimesStoryCick=function(){a.nyTimesLeadParagraphClass["clip-paragraph"]=!1,a.showMoreNYTimesStory=!0},a.updateHideNYTimesStory=function(){a.hideNYTimesStory=a.storyHasActiveFilter()(a.story)},a.$watch("story.typeOfMaterialFilter",a.updateHideNYTimesStory),a.$watch("story.newsDeskFilter",a.updateHideNYTimesStory),a.$watch("story.emptyStoryTextFilter",a.updateHideNYTimesStory),a.$watch("story.storyTextContainsQueryFilter",a.updateHideNYTimesStory),a.$watch("story.storyBylineContainsQueryFilter",a.updateHideNYTimesStory),a.getNYTimesImageUrl=function(){if(!a.story&&!a.story.multimedia&&!a.story.multimedia[0])return"";var b=null;return a.story.multimedia.forEach(function(a){b||"image"!==a.type||(b="http://nytimes.com/"+a.url)}),b},a.updateHideNYTimesStory(),f()};define("ny_times/src/directives/ny_times_story/controller",[],function(){return a.$inject=["$scope","$filter","STORY_CONSTANTS"],a})}(),function(a){var b=function(a,b){b.on("$destroy",function(){})};define("ny_times/src/directives/ny_times_story/link",["angular"],function(c){return b.angular=c,b.document=a.document,b})}(window),function(){define("ny_times/src/directives/ny_times_story/template",[],function(){return"<div><div class='container-fluid ny-times-story' ng-hide='hideNYTimesStory'><h1>{{subTitle}}</h1><p ng-class='nyTimesLeadParagraphClass'>{{story.lead_paragraph}}</p><div ng-hide='showMoreNYTimesStory' ng-class='nyTimesStorySeeMore'><a ng-click='showMoreNYTimesStoryCick()'>See More</a></div><div ng-show='showMoreNYTimesStory'><div class='ny-times-story-content-row row'><div class='col-xs-8'><div ng-show='showStorySnippit'><strong>Story Snippet:</strong>{{story.snippet}}</div><div class='ny-times-story-source' ng-hide=\"story.source !== ''\"><strong>Source:</strong>{{source}}</div><strong>Publication Date</strong><div>{{pub_date}}</div><strong>Byline</strong><div>{{byline}}</div><strong>Type Of Material</strong><div>{{type_of_material}}</div><strong>New Desk</strong><div>{{news_desk}}</div></div><div class='ny-times-story-content-img col-xs-4'><img ng-src='{{getNYTimesImageUrl()}}' /></div></div></div></div></div>"})}(),function(){var a=function a(){return{restrict:"E",replace:!0,scope:{story:"=",index:"@",page:"@",storyHasActiveFilter:"&",applyTypeOfMaterialFilter:"=",applyNewsDeskFilter:"=",applyEmptyStoryTextFilter:"=",applyStoryTextContainsQueryFilter:"=",applyByLineContainsQueryFilter:"="},controller:a.Controller,link:a.Link,template:a.Template}};define("ny_times/src/directives/ny-times-story",["./ny_times_story/controller","./ny_times_story/link","./ny_times_story/template"],function(b,c,d){return a.Controller=b,a.Link=c,a.Template=d,a.NAME="nyTimesStory",a})}(),function(a){var b=function b(c){a.angular.forEach(b.list,function(a){c.directive(a.NAME,a)})};define("ny_times/src/directives",["./directives/infinite-scroller","./directives/ny-times-feed","./directives/ny-times-filter-type-option.js","./directives/ny-times-filter-type","./directives/ny-times-filter","./directives/ny-times-sidebar","./directives/ny-times-story"],function(a,c,d,e,f,g,h){return b.list=arguments,b})}(window),function(){function a(a){throw new Error(a)}var b=function b(c){var d=b.angular;c.factory("$cbtErrors",["$cbtOptions",function(b){var c=b.getOnErrorCallback();c=d.isFunction(c)?c:a;var e={};return e}])};define("ny_times/src/services",["angular"],function(a){return b.angular=a,b})}(),function(){var a=function(a){};define("ny_times/src/values",[],function(){return a})}(),function(){var a=function(a){};define("ny_times/src/filters",[],function(){return a})}(),function(a){var b=function a(b){var c=a.angular;a.TemplateRenderer(b);var d=c.module(a.MODULE,a.MODULE_DEPENDENCIES);d.constant("$mainOptions",b),d.config(["$provide",function(a){return a.decorator("$rootScope",["$delegate",function(a){return a.safeApply=function(b){var c=a.$$phase;"$apply"===c||"$digest"===c?b&&"function"==typeof b&&b():a.$apply(b)},a}])}]),d.provider("$exceptionHandler",function(){return{$get:function(){return function(a,b){try{"undefined"!=typeof console&&console&&console.log&&(console.log("[ERROR: angular.$exceptionHandler()]"),console.log("exception: ",a),console.log("exception.message: "+a.message),console.log("exception.stack: "+a.stack),console.log("cause: "+b),console.log("[ERROR: END]"))}catch(a){}}}}}),a.Constants(d),a.Controllers(d),a.Directives(d),a.Filters(d),a.Services(d),a.Values(d);var e=a.document.querySelector(b.getMainElementSelector());c.element(e);return{}};define("ny_times/boot",["angular","./src/template-renderer","./src/constants","./src/controllers","./src/directives","./src/services","./src/values","./src/filters","./src/controllers/main-ctrl"],function(c,d,e,f,g,h,i,j,k){return b.MODULE="NYTimesApp",b.MODULE_DEPENDENCIES=[],b.document=a.document,b.angular=c,b.TemplateRenderer=d,b.Constants=e,b.Controllers=f,b.Directives=g,b.Services=h,b.Values=i,b.Filters=j,b.MainCtrl=k,b})}(window),function(){var a=function a(b){var c=a.booter(b),d={getMainAPI:function(){return c},toString:function(){return"[object Boot]"}};return d};define("ny_times/boot-runner",["./boot"],function(b){return a.booter=b,a})}(),function(){var a=function a(b){var c=a.Options(b),d=a.Boot(c);return d.getMainAPI()};define("ny-times",["./ny_times/options","./ny_times/boot-runner"],function(b,c){return a.Options=b,a.Boot=c,a})}();